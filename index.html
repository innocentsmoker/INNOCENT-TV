<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plex Movie Search</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #e5a00d;
            --primary-dark: #d18f0c;
            --dark: #1a1a1a;
            --darker: #121212;
            --light: #f5f5f5;
            --gray: #888;
            --card-bg: #2a2a2a;
            --card-hover: #333;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--darker);
            color: var(--light);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(to right, var(--dark), var(--darker));
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            color: var(--primary);
            font-size: 28px;
        }
        
        .logo h1 {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(to right, var(--primary), #ffcc00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .search-container {
            flex: 1;
            max-width: 600px;
            margin: 0 30px;
            position: relative;
        }
        
        .search-box {
            width: 100%;
            padding: 12px 20px;
            border-radius: 30px;
            border: none;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .search-box:focus {
            outline: none;
            background-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 2px var(--primary);
        }
        
        .search-box::placeholder {
            color: var(--gray);
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }
        
        .user-actions button {
            background: none;
            border: none;
            color: var(--light);
            font-size: 18px;
            margin-left: 15px;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .user-actions button:hover {
            color: var(--primary);
        }
        
        .main-content {
            padding: 30px 0;
        }
        
        .section-title {
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: var(--primary);
        }
        
        .movies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
        }
        
        .movie-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .movie-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            background-color: var(--card-hover);
        }
        
        .movie-poster {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
        }
        
        .movie-info {
            padding: 15px;
        }
        
        .movie-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .movie-year {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .movie-summary {
            font-size: 14px;
            color: #ccc;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            margin-bottom: 10px;
            height: 40px;
        }
        
        .movie-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 15px;
        }
        
        .tag {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .movie-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .btn {
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: var(--darker);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--light);
            border: 1px solid var(--gray);
        }
        
        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 18px;
            color: var(--gray);
        }
        
        .loading i {
            color: var(--primary);
            margin-right: 10px;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
        }
        
        .empty-state i {
            font-size: 50px;
            margin-bottom: 20px;
            color: var(--gray);
        }
        
        .empty-state h3 {
            font-size: 22px;
            margin-bottom: 10px;
        }
        
        .empty-state p {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .movie-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .modal-content {
            background-color: var(--dark);
            max-width: 900px;
            margin: 40px auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .modal-header {
            position: relative;
        }
        
        .modal-backdrop {
            height: 300px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .modal-backdrop::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, var(--dark), transparent);
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-poster {
            position: absolute;
            bottom: -50px;
            left: 30px;
            width: 150px;
            height: 220px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            z-index: 5;
        }
        
        .modal-body {
            padding: 70px 30px 30px;
        }
        
        .modal-title {
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .modal-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            color: var(--gray);
        }
        
        .modal-rating {
            color: var(--primary);
            font-weight: 600;
        }
        
        .modal-overview {
            margin-bottom: 25px;
            line-height: 1.7;
        }
        
        .modal-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .detail-item {
            margin-bottom: 10px;
        }
        
        .detail-label {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .detail-value {
            font-size: 16px;
        }
        
        .cast-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .cast-member {
            text-align: center;
            width: 80px;
        }
        
        .cast-photo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 8px;
            background-color: var(--card-bg);
        }
        
        .cast-name {
            font-size: 13px;
        }
        
        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn-large {
            padding: 12px 25px;
            font-size: 16px;
        }
        
        .btn-play {
            background-color: var(--primary);
            color: var(--darker);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-queue {
            background-color: transparent;
            color: var(--light);
            border: 1px solid var(--gray);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        footer {
            background-color: var(--dark);
            padding: 30px 0;
            margin-top: 50px;
            text-align: center;
            color: var(--gray);
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
        }
        
        .footer-links {
            display: flex;
            gap: 20px;
            margin: 10px 0;
        }
        
        .footer-links a {
            color: var(--gray);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-container {
                margin: 0;
                width: 100%;
            }
            
            .movies-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 15px;
            }
            
            .modal-details {
                grid-template-columns: 1fr;
            }
            
            .modal-poster {
                width: 120px;
                height: 180px;
            }
            
            .modal-body {
                padding: 60px 20px 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-film"></i>
                    <h1>PlexFlix</h1>
                </div>
                <div class="search-container">
                    <input type="text" class="search-box" placeholder="Search for movies...">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <div class="user-actions">
                    <button><i class="fas fa-home"></i></button>
                    <button><i class="fas fa-user"></i></button>
                </div>
            </div>
        </div>
    </header>
    
    <main class="main-content">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-fire"></i> Popular Movies</h2>
            
            <div class="movies-grid" id="movies-grid">
                <!-- Movie cards will be inserted here by JavaScript -->
            </div>
            
            <div class="loading" id="loading" style="display: none;">
                <i class="fas fa-spinner fa-spin"></i> Searching for movies...
            </div>
            
            <div class="empty-state" id="empty-state" style="display: none;">
                <i class="fas fa-film"></i>
                <h3>No movies found</h3>
                <p>Try adjusting your search terms or browse our popular selections.</p>
            </div>
        </div>
    </main>
    
    <div class="movie-modal" id="movie-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-backdrop" id="modal-backdrop"></div>
                <button class="modal-close" id="modal-close"><i class="fas fa-times"></i></button>
                <img class="modal-poster" id="modal-poster" src="" alt="Movie Poster">
            </div>
            <div class="modal-body">
                <h2 class="modal-title" id="modal-title">Movie Title</h2>
                <div class="modal-meta">
                    <span class="modal-year" id="modal-year">2023</span>
                    <span class="modal-rating" id="modal-rating">8.5/10</span>
                    <span class="modal-runtime" id="modal-runtime">120 min</span>
                </div>
                <p class="modal-overview" id="modal-overview">Movie overview goes here...</p>
                
                <div class="modal-details">
                    <div class="detail-column">
                        <div class="detail-item">
                            <div class="detail-label">Director</div>
                            <div class="detail-value" id="modal-director">Christopher Nolan</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Genre</div>
                            <div class="detail-value" id="modal-genre">Action, Sci-Fi</div>
                        </div>
                    </div>
                    <div class="detail-column">
                        <div class="detail-item">
                            <div class="detail-label">Cast</div>
                            <div class="cast-list" id="modal-cast">
                                <!-- Cast members will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-large btn-play"><i class="fas fa-play"></i> Play Movie</button>
                    <button class="btn btn-large btn-queue"><i class="fas fa-plus"></i> Add to Queue</button>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-film"></i>
                    <span>PlexFlix</span>
                </div>
                <div class="footer-links">
                    <a href="#">Home</a>
                    <a href="#">Movies</a>
                    <a href="#">TV Shows</a>
                    <a href="#">My List</a>
                    <a href="#">About</a>
                </div>
                <p>&copy; 2023 PlexFlix. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mock data for demonstration (in a real app, this would come from the Plex API)
        const mockMovies = [
            {
                id: 1,
                title: "Inception",
                year: 2010,
                summary: "A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",
                poster: "https://image.tmdb.org/t/p/w500/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",
                backdrop: "https://image.tmdb.org/t/p/w500/s2bT29y0ngXxxu2IA8AOzzXTRhd.jpg",
                rating: 8.8,
                runtime: 148,
                director: "Christopher Nolan",
                genre: ["Action", "Sci-Fi", "Thriller"],
                cast: [
                    { name: "Leonardo DiCaprio", photo: "" },
                    { name: "Joseph Gordon-Levitt", photo: "" },
                    { name: "Ellen Page", photo: "" },
                    { name: "Tom Hardy", photo: "" }
                ]
            },
            {
                id: 2,
                title: "The Dark Knight",
                year: 2008,
                summary: "When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.",
                poster: "https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg",
                backdrop: "https://image.tmdb.org/t/p/w500/hqkIcbrOHL86UncnHIsHVcVmzue.jpg",
                rating: 9.0,
                runtime: 152,
                director: "Christopher Nolan",
                genre: ["Action", "Crime", "Drama"],
                cast: [
                    { name: "Christian Bale", photo: "" },
                    { name: "Heath Ledger", photo: "" },
                    { name: "Aaron Eckhart", photo: "" },
                    { name: "Michael Caine", photo: "" }
                ]
            },
            {
                id: 3,
                title: "Interstellar",
                year: 2014,
                summary: "A team of explorers travel through a wormhole in space in an attempt to ensure humanity's survival.",
                poster: "https://image.tmdb.org/t/p/w500/gEU2QniE6E77NI6lCU6MxlNBvIx.jpg",
                backdrop: "https://image.tmdb.org/t/p/w500/pZvZjxPFfWWIwtPQodsNygQ6u5x.jpg",
                rating: 8.6,
                runtime: 169,
                director: "Christopher Nolan",
                genre: ["Adventure", "Drama", "Sci-Fi"],
                cast: [
                    { name: "Matthew McConaughey", photo: "" },
                    { name: "Anne Hathaway", photo: "" },
                    { name: "Jessica Chastain", photo: "" },
                    { name: "Michael Caine", photo: "" }
                ]
            },
            {
                id: 4,
                title: "The Shawshank Redemption",
                year: 1994,
                summary: "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.",
                poster: "https://image.tmdb.org/t/p/w500/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",
                backdrop: "https://image.tmdb.org/t/p/w500/iNh3BivHyg5sQRPP1KOkzguEX0H.jpg",
                rating: 9.3,
                runtime: 142,
                director: "Frank Darabont",
                genre: ["Drama"],
                cast: [
                    { name: "Tim Robbins", photo: "" },
                    { name: "Morgan Freeman", photo: "" },
                    { name: "Bob Gunton", photo: "" },
                    { name: "William Sadler", photo: "" }
                ]
            },
            {
                id: 5,
                title: "Pulp Fiction",
                year: 1994,
                summary: "The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.",
                poster: "https://image.tmdb.org/t/p/w500/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg",
                backdrop: "https://image.tmdb.org/t/p/w500/4cDFJr4HnXN5AdPw4AKrmLlMWdO.jpg",
                rating: 8.9,
                runtime: 154,
                director: "Quentin Tarantino",
                genre: ["Crime", "Drama"],
                cast: [
                    { name: "John Travolta", photo: "" },
                    { name: "Uma Thurman", photo: "" },
                    { name: "Samuel L. Jackson", photo: "" },
                    { name: "Bruce Willis", photo: "" }
                ]
            },
            {
                id: 6,
                title: "The Matrix",
                year: 1999,
                summary: "A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.",
                poster: "https://image.tmdb.org/t/p/w500/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg",
                backdrop: "https://image.tmdb.org/t/p/w500/fNG7i7RqMErkcqhohV2a6cV1Ehy.jpg",
                rating: 8.7,
                runtime: 136,
                director: "Lana Wachowski, Lilly Wachowski",
                genre: ["Action", "Sci-Fi"],
                cast: [
                    { name: "Keanu Reeves", photo: "" },
                    { name: "Laurence Fishburne", photo: "" },
                    { name: "Carrie-Anne Moss", photo: "" },
                    { name: "Hugo Weaving", photo: "" }
                ]
            }
        ];

        // DOM elements
        const moviesGrid = document.getElementById('movies-grid');
        const loadingElement = document.getElementById('loading');
        const emptyStateElement = document.getElementById('empty-state');
        const searchBox = document.querySelector('.search-box');
        const movieModal = document.getElementById('movie-modal');
        const modalClose = document.getElementById('modal-close');
        
        // Modal elements
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalPoster = document.getElementById('modal-poster');
        const modalTitle = document.getElementById('modal-title');
        const modalYear = document.getElementById('modal-year');
        const modalRating = document.getElementById('modal-rating');
        const modalRuntime = document.getElementById('modal-runtime');
        const modalOverview = document.getElementById('modal-overview');
        const modalDirector = document.getElementById('modal-director');
        const modalGenre = document.getElementById('modal-genre');
        const modalCast = document.getElementById('modal-cast');

        // Debounce function to limit API calls
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Display movies in the grid
        function displayMovies(movies) {
            moviesGrid.innerHTML = '';
            
            if (movies.length === 0) {
                emptyStateElement.style.display = 'block';
                return;
            }
            
            emptyStateElement.style.display = 'none';
            
            movies.forEach(movie => {
                const movieCard = document.createElement('div');
                movieCard.className = 'movie-card';
                movieCard.innerHTML = `
                    <img src="${movie.poster}" alt="${movie.title}" class="movie-poster">
                    <div class="movie-info">
                        <h3 class="movie-title">${movie.title}</h3>
                        <div class="movie-year">${movie.year}</div>
                        <p class="movie-summary">${movie.summary}</p>
                        <div class="movie-tags">
                            ${movie.genre.map(genre => `<span class="tag">${genre}</span>`).join('')}
                        </div>
                        <div class="movie-actions">
                            <button class="btn btn-primary view-details" data-id="${movie.id}">View Details</button>
                        </div>
                    </div>
                `;
                moviesGrid.appendChild(movieCard);
            });
            
            // Add event listeners to view details buttons
            document.querySelectorAll('.view-details').forEach(button => {
                button.addEventListener('click', function() {
                    const movieId = parseInt(this.getAttribute('data-id'));
                    const movie = movies.find(m => m.id === movieId);
                    if (movie) {
                        openMovieModal(movie);
                    }
                });
            });
        }

        // Open movie modal with details
        function openMovieModal(movie) {
            modalBackdrop.style.backgroundImage = `url('${movie.backdrop}')`;
            modalPoster.src = movie.poster;
            modalTitle.textContent = movie.title;
            modalYear.textContent = movie.year;
            modalRating.textContent = `${movie.rating}/10`;
            modalRuntime.textContent = `${movie.runtime} min`;
            modalOverview.textContent = movie.summary;
            modalDirector.textContent = movie.director;
            modalGenre.textContent = movie.genre.join(', ');
            
            // Populate cast
            modalCast.innerHTML = '';
            movie.cast.forEach(actor => {
                const castMember = document.createElement('div');
                castMember.className = 'cast-member';
                castMember.innerHTML = `
                    <div class="cast-photo"></div>
                    <div class="cast-name">${actor.name}</div>
                `;
                modalCast.appendChild(castMember);
            });
            
            movieModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Close movie modal
        function closeMovieModal() {
            movieModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Search function (simulated API call)
        function searchMovies(query) {
            loadingElement.style.display = 'block';
            emptyStateElement.style.display = 'none';
            
            // Simulate API delay
            setTimeout(() => {
                if (query.trim() === '') {
                    // Show all movies if query is empty
                    displayMovies(mockMovies);
                } else {
                    // Filter movies based on query
                    const filteredMovies = mockMovies.filter(movie => 
                        movie.title.toLowerCase().includes(query.toLowerCase()) ||
                        movie.director.toLowerCase().includes(query.toLowerCase()) ||
                        movie.genre.some(g => g.toLowerCase().includes(query.toLowerCase()))
                    );
                    displayMovies(filteredMovies);
                }
                loadingElement.style.display = 'none';
            }, 800);
        }

        // Initialize the page with popular movies
        displayMovies(mockMovies);

        // Set up event listeners
        searchBox.addEventListener('input', debounce(function() {
            searchMovies(this.value);
        }, 500));

        modalClose.addEventListener('click', closeMovieModal);

        // Close modal when clicking outside the content
        movieModal.addEventListener('click', function(event) {
            if (event.target === movieModal) {
                closeMovieModal();
            }
        });
    </script>
</body>
</html>
